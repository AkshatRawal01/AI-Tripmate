import { GoogleGenerativeAI } from "@google/generative-ai";

  
  const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-2.0-flash",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseModalities: [
    ],
    responseMimeType: "application/json",
  };
  
  
   export const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate Travel Plan for Location: Udaipur,Rajasthan, for 3 Days for Couple with a Cheap budget, Give me a Hotels options list with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place Details, Place Image Url, Geo Coordinates, ticket Pricing, rating, Time travel each of the location for 3 days with each day plan with best time to visit in JSON format."},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "Okay, here's a JSON-formatted travel plan for Udaipur for a couple on a budget, packed with hotel options and a detailed itinerary.  I'll do my best to provide accurate information, but prices and availability can vary, so double-check before booking.\n\n```json\n{\n  \"tripDetails\": {\n    \"location\": \"Udaipur, Rajasthan\",\n    \"duration\": \"3 Days\",\n    \"travelers\": \"Couple\",\n    \"budget\": \"Cheap/Budget-Friendly\"\n  },\n  \"hotelOptions\": [\n    {\n      \"hotelName\": \"Zostel Udaipur\",\n      \"hotelAddress\": \"24, Haridas Ji Ki Magri, Near Jagdish Temple, Udaipur, Rajasthan 313001\",\n      \"price\": \"₹500-₹1200/night (Dorm/Private Room)\",\n      \"hotelImageURL\": \"https://example.com/zostel_udaipur.jpg\",  //REPLACE WITH ACTUAL IMAGE URL\n      \"geoCoordinates\": {\n        \"latitude\": 24.5845,\n        \"longitude\": 73.6845\n      },\n      \"rating\": 4.2,\n      \"description\": \"A popular hostel with dorms and private rooms, a social atmosphere, rooftop terrace, and central location near Jagdish Temple. Great for meeting other travelers.\"\n    },\n    {\n      \"hotelName\": \"Hotel Baba Palace\",\n      \"hotelAddress\": \"62, Gangaur Ghat Marg, Old City, Udaipur, Rajasthan 313001\",\n      \"price\": \"₹800-₹1500/night\",\n      \"hotelImageURL\": \"https://example.com/baba_palace.jpg\", //REPLACE WITH ACTUAL IMAGE URL\n      \"geoCoordinates\": {\n        \"latitude\": 24.5832,\n        \"longitude\": 73.6836\n      },\n      \"rating\": 3.9,\n      \"description\": \"Budget-friendly hotel near Gangaur Ghat, offering basic rooms, a restaurant, and views of the lake. Good location for exploring the old city.\"\n    },\n     {\n      \"hotelName\": \"Hotel Madri Haveli\",\n      \"hotelAddress\": \"62, Gangaur Ghat Marg, Old City, Udaipur, Rajasthan 313001\",\n      \"price\": \"₹1200-₹2000/night\",\n      \"hotelImageURL\": \"https://example.com/madri_haveli.jpg\", //REPLACE WITH ACTUAL IMAGE URL\n      \"geoCoordinates\": {\n        \"latitude\": 24.5832,\n        \"longitude\": 73.6836\n      },\n      \"rating\": 4.1,\n      \"description\": \"A charming budget-friendly haveli-style hotel. Good location for exploring the old city.\"\n    },\n    {\n      \"hotelName\": \"Backpackers Panda Udaipur\",\n      \"hotelAddress\": \"Near Jagdish Temple, Udaipur\",\n      \"price\": \"₹600-₹1400/night\",\n      \"hotelImageURL\": \"https://example.com/backpackers_panda.jpg\", //REPLACE WITH ACTUAL IMAGE URL\n      \"geoCoordinates\": {\n        \"latitude\": 24.5840,\n        \"longitude\": 73.6850\n      },\n      \"rating\": 4.0,\n      \"description\": \"Clean and comfortable hostel option, offering both dorms and private rooms.  Social atmosphere and helpful staff.\"\n    }\n  ],\n  \"itinerary\": {\n    \"day1\": {\n      \"theme\": \"Exploring the City Palace and Lake Pichola\",\n      \"bestTimeToVisit\": \"Morning/Afternoon\",\n      \"places\": [\n        {\n          \"placeName\": \"City Palace\",\n          \"placeDetails\": \"A magnificent palace complex with museums, courtyards, and stunning views of Lake Pichola.\",\n          \"placeImageURL\": \"https://example.com/city_palace_udaipur.jpg\", //REPLACE WITH ACTUAL IMAGE URL\n          \"geoCoordinates\": {\n            \"latitude\": 24.5799,\n            \"longitude\": 73.6824\n          },\n          \"ticketPricing\": \"₹300/person (approx.)\",\n          \"rating\": 4.5,\n          \"timeTravel\": \"2-3 hours\"\n        },\n        {\n          \"placeName\": \"Lake Pichola Boat Ride\",\n          \"placeDetails\": \"A scenic boat ride on Lake Pichola, offering views of the City Palace, Lake Palace, and Jag Mandir.\",\n          \"placeImageURL\": \"https://example.com/lake_pichola.jpg\", //REPLACE WITH ACTUAL IMAGE URL\n          \"geoCoordinates\": {\n            \"latitude\": 24.5780,\n            \"longitude\": 73.6800\n          },\n          \"ticketPricing\": \"₹400-₹800/person (depending on the type of boat)\",\n          \"rating\": 4.6,\n          \"timeTravel\": \"1-2 hours\"\n        },\n        {\n          \"placeName\": \"Jagdish Temple\",\n          \"placeDetails\": \"A beautiful Hindu temple dedicated to Lord Vishnu, known for its intricate carvings and architecture.\",\n          \"placeImageURL\": \"https://example.com/jagdish_temple.jpg\", //REPLACE WITH ACTUAL IMAGE URL\n          \"geoCoordinates\": {\n            \"latitude\": 24.5850,\n            \"longitude\": 73.6848\n          },\n          \"ticketPricing\": \"Free entry\",\n          \"rating\": 4.3,\n          \"timeTravel\": \"1 hour\"\n        },\n         {\n          \"placeName\": \"Gangaur Ghat\",\n          \"placeDetails\": \"A vibrant ghat on the banks of Lake Pichola, known for its colorful ceremonies and street performers.\",\n          \"placeImageURL\": \"https://example.com/gangaur_ghat.jpg\", //REPLACE WITH ACTUAL IMAGE URL\n          \"geoCoordinates\": {\n            \"latitude\": 24.5835,\n            \"longitude\": 73.6835\n          },\n          \"ticketPricing\": \"Free entry\",\n          \"rating\": 4.2,\n          \"timeTravel\": \"30 mins-1 hour\"\n        }\n      ]\n    },\n    \"day2\": {\n      \"theme\": \"Monsoon Palace and Local Markets\",\n      \"bestTimeToVisit\": \"Morning/Evening\",\n      \"places\": [\n        {\n          \"placeName\": \"Sajjangarh Fort (Monsoon Palace)\",\n          \"placeDetails\": \"A hilltop palace offering panoramic views of Udaipur and the surrounding countryside. Best visited during or after the monsoon season.\",\n          \"placeImageURL\": \"https://example.com/monsoon_palace.jpg\", //REPLACE WITH ACTUAL IMAGE URL\n          \"geoCoordinates\": {\n            \"latitude\": 24.6130,\n            \"longitude\": 73.6720\n          },\n          \"ticketPricing\": \"₹100/person (approx.)\",\n          \"rating\": 4.4,\n          \"timeTravel\": \"2-3 hours (including travel time)\"\n        },\n        {\n          \"placeName\": \"Hathi Pol Bazaar\",\n          \"placeDetails\": \"A bustling local market known for its textiles, handicrafts, and souvenirs. Bargaining is expected.\",\n          \"placeImageURL\": \"https://example.com/hathi_pol_bazaar.jpg\", //REPLACE WITH ACTUAL IMAGE URL\n          \"geoCoordinates\": {\n            \"latitude\": 24.5880,\n            \"longitude\": 73.6880\n          },\n          \"ticketPricing\": \"Free entry (prices vary for items)\",\n          \"rating\": 4.0,\n          \"timeTravel\": \"2-3 hours\"\n        },\n        {\n          \"placeName\": \"Shilpgram\",\n          \"placeDetails\": \"A rural arts and crafts complex showcasing the traditional crafts of Rajasthan and other states.\",\n          \"placeImageURL\": \"https://example.com/shilpgram_udaipur.jpg\", //REPLACE WITH ACTUAL IMAGE URL\n          \"geoCoordinates\": {\n            \"latitude\": 24.5670,\n            \"longitude\": 73.6550\n          },\n          \"ticketPricing\": \"₹30/person (approx.)\",\n          \"rating\": 4.1,\n          \"timeTravel\": \"2-3 hours\"\n        }\n      ]\n    },\n    \"day3\": {\n      \"theme\": \"Gardens and Museums\",\n      \"bestTimeToVisit\": \"Morning/Afternoon\",\n      \"places\": [\n        {\n          \"placeName\": \"Saheliyon-ki-Bari\",\n          \"placeDetails\": \"A beautiful garden with fountains, kiosks, and marble elephants. A relaxing escape from the city.\",\n          \"placeImageURL\": \"https://example.com/saheliyon_ki_bari.jpg\", //REPLACE WITH ACTUAL IMAGE URL\n          \"geoCoordinates\": {\n            \"latitude\": 24.6080,\n            \"longitude\": 73.6750\n          },\n          \"ticketPricing\": \"₹20/person (approx.)\",\n          \"rating\": 4.3,\n          \"timeTravel\": \"1-2 hours\"\n        },\n        {\n          \"placeName\": \"Bharatiya Lok Kala Mandal\",\n          \"placeDetails\": \"A museum showcasing the folk arts and crafts of Rajasthan, including puppets, costumes, and musical instruments.\",\n          \"placeImageURL\": \"https://example.com/lok_kala_mandal.jpg\", //REPLACE WITH ACTUAL IMAGE URL\n          \"geoCoordinates\": {\n            \"latitude\": 24.5710,\n            \"longitude\": 73.6880\n          },\n          \"ticketPricing\": \"₹50/person (approx.)\",\n          \"rating\": 4.2,\n          \"timeTravel\": \"2 hours\"\n        },\n        {\n          \"placeName\": \"Fateh Sagar Lake\",\n          \"placeDetails\": \"A scenic lake with three islands, accessible by boat. Enjoy a walk along the promenade or a boat ride.\",\n          \"placeImageURL\": \"https://example.com/fateh_sagar_lake.jpg\", //REPLACE WITH ACTUAL IMAGE URL\n          \"geoCoordinates\": {\n            \"latitude\": 24.6000,\n            \"longitude\": 73.6700\n          },\n          \"ticketPricing\": \"Free entry (boat ride extra)\",\n          \"rating\": 4.4,\n          \"timeTravel\": \"2-3 hours\"\n        }\n      ]\n    }\n  },\n  \"budgetTips\": [\n    \"Eat at local restaurants and dhabas for affordable meals.\",\n    \"Use local transportation like auto-rickshaws or buses.\",\n    \"Bargain when shopping in local markets.\",\n    \"Look for free activities like visiting ghats and temples.\",\n    \"Consider staying in hostels or budget-friendly guesthouses.\"\n  ],\n  \"notes\": [\n    \"Prices are approximate and may vary depending on the season and availability.\",\n    \"Always confirm ticket prices and opening hours before visiting a place.\",\n    \"Wear comfortable shoes as you will be doing a lot of walking.\",\n    \"Stay hydrated and protect yourself from the sun.\"\n  ]\n}\n```\n\n**Important Notes:**\n\n*   **Replace Placeholders:**  The `hotelImageURL` and `placeImageURL` fields are placeholders. You *must* replace these with actual image URLs.  You can find images using a search engine or image hosting site.\n*   **Pricing Verification:**  Hotel and ticket prices are estimates.  Check current pricing on booking websites (e.g., Booking.com, MakeMyTrip) and official websites of attractions.\n*   **Transportation:** This itinerary doesn't include specific transportation details between locations. Auto-rickshaws, taxis, and local buses are readily available in Udaipur.  Negotiate the fare beforehand with auto-rickshaw drivers. Consider using ride-sharing apps if available.\n*   **Flexibility:** This is a suggested itinerary. Feel free to adjust it based on your interests and preferences.  You might want to spend more or less time at certain locations.\n*   **Booking in Advance:** During peak season (October to March), it's recommended to book your hotel and boat rides in advance.\n\nI hope this detailed plan helps you have a wonderful and budget-friendly trip to Udaipur! Remember to do your research and tailor the plan to your needs.\n"},
          ],
        },
      ],
    });
  
   